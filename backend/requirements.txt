# ==============================================================================
# Smart Shift Planner Backend - Python Dependencies
# ==============================================================================

# ==============================================================================
# WEB FRAMEWORK - Core packages for building REST API
# ==============================================================================

fastapi==0.115.0
# FastAPI: Modern Python web framework for building APIs
# - Creates REST API endpoints for workers, shifts, and predictions
# - Auto-generates interactive API documentation at /docs
# - Type-hint validation and automatic request parsing
# - Async support for handling multiple concurrent requests

uvicorn[standard]==0.32.1
# Uvicorn: ASGI (Asynchronous Server Gateway Interface) web server
# - Runs the FastAPI application in production/development
# - Handles HTTP requests and responses efficiently
# - [standard] extras include WebSocket support and other features
# - Usage: uvicorn src.main:app --reload

# ==============================================================================
# DATABASE - PostgreSQL connection and data mapping
# ==============================================================================

sqlalchemy==2.0.36
# SQLAlchemy: Object-Relational Mapper (ORM) for database operations
# - Maps Python classes (models) to database tables automatically
# - Handles complex queries without writing raw SQL
# - Type checking and validation through Python classes
# - Supports relationships between tables (workers â†” shifts)

pg8000==1.31.2
# pg8000: Pure Python PostgreSQL adapter/driver
# - Connects Python application to PostgreSQL database
# - No external C dependencies (fully Python implementation)
# - Used by SQLAlchemy to send queries to PostgreSQL

alembic==1.11.1
# Alembic: Database migration tool for version control
# - Tracks schema changes over time with migration scripts
# - Supports rollback to previous database versions
# - Enables team collaboration on database modifications

# ==============================================================================
# CONFIGURATION AND VALIDATION
# ==============================================================================

python-dotenv==1.0.1
# Python-dotenv: Loads environment variables from .env file
# - Stores sensitive data (database password, API keys) outside code
# - Enables different configurations for dev/test/production
# - Prevents accidentally committing secrets to version control

pydantic-settings==2.12.0
# Pydantic Settings: Configuration management with validation
# - Validates environment variables on application startup
# - Type checking for configuration values
# - Provides defaults and supports environment overrides

email-validator==2.3.0
# email-validator: Validates email address formats
# - Ensures valid email format in worker registration
# - Pydantic integration for schema validation
# - RFC 5321/5322 compliant email validation

# ==============================================================================
# AUTHENTICATION & SECURITY (Future use)
# ==============================================================================

python-jose[cryptography]==3.3.0
# Python-JOSE: JWT (JSON Web Token) library for secure authentication
# - Creates and validates tokens for user login/logout
# - Generates cryptographic signatures for token verification
# - Enables stateless user authentication (no session storage needed)

passlib[bcrypt]==1.7.4
# Passlib: Password hashing and verification library
# - Hashes passwords using bcrypt algorithm (secure and slow by design)
# - Verifies passwords during login without storing plaintext
# - [bcrypt] specifies the hashing algorithm backend

# ==============================================================================
# TESTING FRAMEWORK
# ==============================================================================

pytest==8.3.4
# Pytest: Testing framework for automated test execution
# - Discovers and runs tests in tests/ directory
# - Provides fixtures for reusable test setup
# - Generates test reports and coverage analysis

httpx==0.27.2
# HTTPX: HTTP client library (async and sync support)
# - Makes HTTP requests within tests (calls API endpoints)
# - Tests API endpoints without running external browser
# - Async support matches FastAPI's async capabilities

python-json-logger==3.2.1
# Python-JSON-Logger: Structured logging in JSON format
# - Logs application events in JSON for better analysis
# - Enables log aggregation in production monitoring tools
# - Better visibility into application behavior and debugging

# ==============================================================================
# OPTIONAL ML PACKAGES (Commented out - enable when needed)
# ==============================================================================
# 
# WHY THESE ARE OPTIONAL (Not used in initial implementation):
# 
# The Smart Shift Planner implements ML predictions using PURE PYTHON (no external deps).
# This approach was chosen for MVP (Minimum Viable Product) because:
#
# BENEFITS OF PURE PYTHON APPROACH:
# - Lightweight: Smaller deployment size, faster installation
# - No heavy dependencies: Easier to deploy to production/cloud
# - Simpler debugging: Direct control over algorithm logic
# - Educational: Clear insight into how predictions work
# - Scalable: Can add pandas/numpy later without refactoring
#
# DRAWBACKS OF PURE PYTHON:
# - Slower for large datasets (100k+ rows)
# - More manual data processing code
# - Limited statistical functions
# - Not optimized for matrix operations
#
# WHEN TO ADD THESE LIBRARIES:
# 1. Dataset grows beyond 10,000+ historical shifts
# 2. Need complex statistical models (clustering, neural networks)
# 3. Performance becomes critical (sub-second predictions needed)
# 4. Want advanced features (cross-validation, ensemble methods)
#
# CURRENT IMPLEMENTATION (src/ml/predictors.py):
# - EarningsPredictor: Statistical model using basic math (mean, weighted averages)
# - DemandForecaster: Pattern matching with Python dictionaries
# - ShiftOptimizer: Heuristic-based recommendations
# All use only Python standard library (no external ML deps)
# ============================================================================

# pandas==2.1.4
# Pandas: Data manipulation library for tabular data
# USE CASE: When dataset grows large or data loading becomes bottleneck
# - Load and process CSV/Excel files with gig worker data (millions of rows)
# - Group earnings by time period, location, demand level efficiently  
# - Prepare training data for ML models with built-in aggregation
# - Handle missing values and data cleaning
# ALTERNATIVE (current): Manual loops with Python dictionaries
# WHEN TO ADD: Project scales to 10k+ historical shift records

# numpy==1.26.2
# NumPy: Numerical computing library (array operations)
# USE CASE: When calculations become computationally expensive
# - Fast mathematical operations on large datasets (vectorized)
# - Required dependency for pandas and scikit-learn
# - Enables efficient matrix calculations for ML (100x faster than loops)
# - Memory-efficient storage for numerical arrays
# ALTERNATIVE (current): Python lists and basic math operations
# WHEN TO ADD: Need to process 100k+ data points per prediction

# scikit-learn==1.3.2
# Scikit-learn: Machine learning algorithms library
# USE CASE: When need advanced ML models beyond heuristics
# - Train predictive models (earnings prediction, demand forecasting)
# - Linear regression, random forests, clustering algorithms
# - Model evaluation and cross-validation tools
# - Hyperparameter tuning and model comparison
# ALTERNATIVE (current): Custom statistical models in pure Python
# WHEN TO ADD: Need accuracy >90%, or complex pattern recognition
# FUTURE: Could replace EarningsPredictor with RandomForestRegressor

# matplotlib==3.8.2
# Matplotlib: Data visualization library (charts and graphs)
# USE CASE: Creating dashboards and performance reports
# - Create earnings trend visualizations for workers
# - Plot demand heatmaps by location and time
# - Display model performance metrics visually
# - Generate performance reports for stakeholders
# ALTERNATIVE (current): Text-based reports or external dashboards
# WHEN TO ADD: Need frontend visualizations or reporting dashboards
# NOTE: Could integrate with Plotly for interactive web visualizations
